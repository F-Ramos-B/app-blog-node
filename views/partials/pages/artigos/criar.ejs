<div class="card">
  <div class="card-header">
    <h3><%= artigo ? 'Editar' : 'Criar' %> artigo</h3>
  </div>
  <form method="POST" action="/artigos/admin/artigo-criado">
    <div class="card-body">
      <div class="form-group row">
        <label for="titulo" class="col-sm-2 col-form-label">Título</label>
        <div class="col-sm-10">
          <input
            type="text"
            placeholder="Digite um título..."
            name="titulo"
            class="form-control"
            id="titulo"
            required
            minlength="3"
            maxlength="50"
            value="<%= artigo ? artigo.titulo : null %>"
          />
        </div>
      </div>
      <div class="form-group row">
        <label for="idCategoria" class="col-sm-2 col-form-label"
          >Categoria</label
        >
        <div class="col-sm-10">
          <select
            class="form-control"
            id="idCategoria"
            name="idCategoria"
            required
          >
            <% for (let categoria of categorias) { %>
            <option value="<%= categoria.id %>"><%= categoria.titulo %></option>
            <% } %>
          </select>
        </div>
      </div>
      <div class="form-group row">
        <label for="corpo" class="col-sm-2 col-form-label">Conteúdo</label>
        <% if (artigo) { %>
        <input type="hidden" name="id" value="<%= artigo.id %>" />
        <% } %>
        <div class="col-sm-10">
          <textarea
            name="corpo"
            id="corpo"
            placeholder="Digite uma descrição..."
          >
<%= artigo ? artigo.corpo : null %></textarea
          >
        </div>
      </div>
    </div>
    <div class="card-footer">
      <input type="submit" class="btn btn-dark btn-block" value="Confirmar" />
    </div>
  </form>
</div>

<script src="/tinymce/tinymce.min.js"></script>
<script>
  tinymce.init({
    language: 'pt_BR',
    plugins: [
      'advlist autolink link image lists print preview hr searchreplace wordcount fullscreen insertdatetime media save table paste emoticons',
    ],
    selector: '#corpo',
  });
</script>
